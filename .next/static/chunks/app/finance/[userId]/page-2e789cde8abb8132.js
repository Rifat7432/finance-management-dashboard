(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{1524:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},6391:(e,s,t)=>{Promise.resolve().then(t.bind(t,97144)),Promise.resolve().then(t.bind(t,66652))},11647:(e,s,t)=>{"use strict";t.d(s,{E:()=>d});var a=t(95155);t(12115);var l=t(17129),n=t(83101),i=t(64269);let r=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,asChild:n=!1,...d}=e,c=n?l.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(r({variant:t}),s),...d})}},16485:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},66652:(e,s,t)=>{"use strict";t.d(s,{default:()=>g});var a=t(95155),l=t(86948),n=t(11647),i=t(1524),r=t(71847);let d=(0,r.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=(0,r.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),o=(0,r.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var x=t(16485),h=t(27124),m=t(37656),p=t(12115),u=t(31250);function g(e){var s,t,r,g,v,j,b,y,N,f,k,w,A,F,C;let{userId:M}=e,{token:S}=(0,u.G)(e=>e.auth),[O,T]=(0,p.useState)(null),{data:Z,isLoading:E}=(0,m.UN)(M);return((0,p.useEffect)(()=>{(async()=>{fetch("".concat("https://rehoai.rehoapp.co.uk","/admin/user-dashboard/").concat(M),{headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(S)}}).then(e=>e.json()).then(e=>T(e))})()},[]),E||null===O)?(0,a.jsx)("div",{className:"h-80 flex items-center justify-center",children:(0,a.jsx)(h.A,{})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-6 bg-white p-10 rounded-l",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Spending Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(l.Zp,{className:"bg-[#F0F2F5]",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsx)(l.ZB,{className:"text-sm font-medium bg-[#F0F2F5]",children:"Total Monthly Spending"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"text-3xl font-bold",children:null==Z||null==(s=Z.data)?void 0:s.totalMonthlySpending})})]}),(0,a.jsxs)(l.Zp,{className:"bg-[#F0F2F5]",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Top Overspending Categories"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"text-3xl font-bold",children:(null==Z||null==(t=Z.data)?void 0:t.topOverspendingCategories.length)>0?null==Z||null==(r=Z.data)?void 0:r.topOverspendingCategories.join(", "):"N/A"})})]}),(0,a.jsxs)(l.Zp,{className:"bg-[#F0F2F5]",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Spending Growth from Last Month"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsx)("span",{className:"text-3xl font-bold",children:(null==Z||null==(g=Z.data)?void 0:g.topOverspendingCategories)?null==Z||null==(v=Z.data)?void 0:v.spendingGrowth:"0%"})]})})]})]}),(null==Z||null==(j=Z.data)?void 0:j.spendingHeatmap.length)>0&&(0,a.jsx)("h3",{className:"text-2xl font-bold",children:"Spending Heatmap"}),(null==Z||null==(b=Z.data)?void 0:b.spendingHeatmap.length)>0&&(0,a.jsx)(l.Zp,{children:(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm font-medium text-gray-600 mb-4",children:[(0,a.jsx)("div",{children:"Category"}),(0,a.jsx)("div",{className:"text-right",children:"Spending Level"})]}),null==Z||null==(N=Z.data)||null==(y=N.spendingHeatmap)?void 0:y.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center py-3 border-b last:border-b-0",children:[(0,a.jsx)("div",{className:"font-medium",children:e.category}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)(n.E,{variant:"secondary",className:"".concat(e.color," ").concat("High"===e.level?"text-red-800":"Moderate"===e.level?"text-yellow-800":"text-gray-800"),children:e.spendingLevel})})]},s))]})})}),(0,a.jsx)("h3",{className:"text-2xl font-bold",children:"AI Insights"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Alerts"}),(0,a.jsx)("div",{className:"space-y-3",children:null==O||null==(f=O.currentAlerts)?void 0:f.map((e,s)=>{let{alertMessage:t}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:t})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-3",children:"AI Tips"}),(0,a.jsx)("div",{className:"space-y-3",children:null==O||null==(k=O.aiTips)?void 0:k.map((e,s)=>{let{suggestion:t}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(c,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:t})]},s)})})]}),(0,a.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Installment & Loan Info"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:null==O||null==(w=O.debtStatuses)?void 0:w.missedInstallments})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:null==O||null==(A=O.debtStatuses)?void 0:A.nextDueDate})]}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(d,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:null==O||null==(F=O.debtStatuses)?void 0:F.status})]})]}),(0,a.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Peer Comparison"}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-gray-700",children:null==O||null==(C=O.peerComparison)?void 0:C.comparison})})]})]})})}}},e=>{e.O(0,[728,272,911,777,908,441,255,358],()=>e(e.s=6391)),_N_E=e.O()}]);