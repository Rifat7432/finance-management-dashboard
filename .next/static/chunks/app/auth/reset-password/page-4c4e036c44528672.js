(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(95155);r(12115);var a=r(17129),o=r(83101),i=r(64269);let n=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:o,asChild:d=!1,...l}=e,c=d?a.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(n({variant:r,size:o,className:t})),...l})}},20063:(e,t,r)=>{"use strict";var s=r(47260);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},31012:(e,t,r)=>{"use strict";r.d(t,{q:()=>l});var s=r(36317),a=r(61321),o=r(18720),i=r(53788);let n=(0,s.cw)({baseUrl:"".concat("https://backend.rehoapp.co.uk","/api/v1"),credentials:"include",prepareHeaders:(e,t)=>{let{getState:r}=t,s=r().auth.token;return s&&e.set("authorization","Bearer ".concat(s)),e}}),d=async(e,t,r)=>{var s,a;let d=await n(e,t,r);if((null==(s=d.error)?void 0:s.status)===404&&(console.log("404"),o.oR.error("User not found")),(null==(a=d.error)?void 0:a.status)===401)try{let s=await fetch("".concat("https://backend.rehoapp.co.uk","/api/v1/auth/refresh-token"),{method:"POST",credentials:"include"}),a=await s.json();a.success?(t.dispatch((0,i.yU)(a.data.accessToken)),d=await n(e,t,r)):t.dispatch((0,i.je)())}catch(e){t.dispatch((0,i.je)())}return d},l=(0,a.xP)({reducerPath:"baseApi",baseQuery:d,tagTypes:["getUser","getAppointments","getContents","getAds"],endpoints:()=>({})})},31250:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,j:()=>a});var s=r(1213);let a=s.wA,o=s.d4},32354:(e,t,r)=>{"use strict";r.d(t,{Lv:()=>i,_L:()=>s,hr:()=>a});let{useLoginMutation:s,useForgetPasswordMutation:a,useResendOTPMutation:o,useResetPasswordMutation:i,useChangePasswordMutation:n}=r(31012).q.injectEndpoints({endpoints:e=>({login:e.mutation({query:e=>({url:"auth/login",method:"POST",body:e}),invalidatesTags:["getUser"]}),forgetPassword:e.mutation({query:e=>({url:"auth/dashboard/forget-password",method:"POST",body:e}),invalidatesTags:["getUser"]}),resendOTP:e.mutation({query:e=>({url:"auth/resend-otp",method:"POST",body:e}),invalidatesTags:["getUser"]}),resetPassword:e.mutation({query:e=>(console.log(e),{url:"auth/dashboard/reset-password",method:"POST",body:e}),invalidatesTags:["getUser"]}),changePassword:e.mutation({query:e=>({url:"auth/change-password",method:"POST",body:e}),invalidatesTags:["getUser"]})})})},39263:(e,t,r)=>{Promise.resolve().then(r.bind(r,47525))},47525:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(95155),a=r(12115),o=r(22544),i=r(3998),n=r(65142),d=r(76444),l=r(71847);let c=(0,l.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),u=(0,l.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=r(72643),p=r(20063),h=r(18720),g=r(32354),v=r(31250),b=r(53788);let f=e=>{let{email:t,token:r}=e,[l,f]=(0,a.useState)(!1),[x,w]=(0,a.useState)(!1),y=(0,v.j)(),k=(0,p.useRouter)();(0,a.useEffect)(()=>{y((0,b.yU)(r))},[r]);let{register:j,handleSubmit:N,reset:P,formState:{errors:U}}=(0,o.mN)({defaultValues:{newPassword:"",confirmPassword:""}}),[T,{isLoading:O}]=(0,g.Lv)(),R=async e=>{try{var t,r;let s=await T(e);if((null==s?void 0:s.error)&&!(null==s||null==(r=s.error)||null==(t=r.data)?void 0:t.success))return h.oR.error(s.error.data.message);s.data.success&&(P({newPassword:"",confirmPassword:""}),h.oR.success(s.data.message),k.push("/auth/login"))}catch(e){h.oR.error("Login Failed"),console.log(e)}};return(0,s.jsx)(m.D,{children:(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-white mb-2",children:"Set a New Password"}),(0,s.jsx)("p",{className:"text-slate-300 text-sm",children:"Create a new password. Ensure it differs from previous ones of security"})]}),(0,s.jsxs)("form",{onSubmit:N(R),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"password",className:"text-white text-sm",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.p,{id:"password",type:l?"text":"password",autoComplete:"new-password",...j("newPassword",{required:"Password is required"}),className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400 focus:border-primary focus:ring-primary pr-10"}),(0,s.jsx)("button",{type:"button",onClick:()=>f(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:l?(0,s.jsx)(c,{className:"w-4 h-4"}):(0,s.jsx)(u,{className:"w-4 h-4"})}),U.newPassword&&(0,s.jsx)("p",{className:"text-red-400 text-xs mt-1",children:U.newPassword.message})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"confirmPassword",className:"text-white text-sm",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.p,{id:"confirmPassword",type:x?"text":"password",autoComplete:"new-password",...j("confirmPassword",{required:"Please confirm your password"}),className:"bg-slate-700/50 border-slate-600 text-white placeholder:text-slate-400 focus:border-primary focus:ring-primary pr-10"}),(0,s.jsx)("button",{type:"button",onClick:()=>w(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white",children:x?(0,s.jsx)(c,{className:"w-4 h-4"}):(0,s.jsx)(u,{className:"w-4 h-4"})}),U.confirmPassword&&(0,s.jsx)("p",{className:"text-red-400 text-xs mt-1",children:U.confirmPassword.message})]})]}),(0,s.jsx)(i.$,{type:"submit",disabled:O,className:"w-full bg-primary hover:bg-primary/90 text-white py-3 rounded-lg font-medium",children:O?"Updating...":"Update Password"})]})]})})})}},53788:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,em:()=>o,je:()=>d,r1:()=>i,yU:()=>a});let s=(0,r(26286).Z0)({name:"product",initialState:{user:null,token:null,collapsed:!1,loading:!1},reducers:{storUserData:(e,t)=>{e.user=t.payload},storToken:(e,t)=>{e.token=t.payload},setLoading:(e,t)=>{e.loading=t.payload},isCollapsed:(e,t)=>{e.collapsed=t.payload},logOut:e=>{e.user=null,e.token=null,localStorage.removeItem("token")}}}),{storToken:a,storUserData:o,setLoading:i,isCollapsed:n,logOut:d}=s.actions,l=s.reducer},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o,q:()=>i});var s=r(2821),a=r(75889);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}let i=e=>new Promise((t,r)=>{let s=document.createElement("video");s.preload="metadata",s.onloadedmetadata=()=>{window.URL.revokeObjectURL(s.src),t(s.duration)},s.onerror=()=>{r(Error("Failed to load video metadata"))},s.src=URL.createObjectURL(e)})},65142:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(95155);r(12115);var a=r(64269);function o(e){let{className:t,type:r,...o}=e;return(0,s.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...o})}},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(12115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:d,className:l="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...o,width:i,height:i,stroke:r,strokeWidth:d?24*Number(n)/Number(i):n,className:a("lucide",l),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),n=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:n,...d}=r;return(0,s.createElement)(i,{ref:o,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),n),...d})});return r.displayName="".concat(e),r}},72643:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var s=r(95155);function a(e){let{children:t}=e;return(0,s.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"url(/auth-bg.png)",backgroundSize:"cover",backgroundPosition:"center"}}),(0,s.jsx)("div",{className:"relative z-20 flex items-center justify-center min-h-screen p-4",children:t})]})}},76444:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var s=r(95155);r(12115);var a=r(10489),o=r(64269);function i(e){let{className:t,...r}=e;return(0,s.jsx)(a.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}}},e=>{e.O(0,[728,272,856,441,255,358],()=>e(e.s=39263)),_N_E=e.O()}]);